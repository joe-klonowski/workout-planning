[build]
builder = "RAILPACK"

[build.providers]
python = "3.10"
node = "18"

[build.commands]
install = [
  "pip install -r backend/requirements.txt",
  "cd app && npm install"
]
build = [
  "cd app && npm run build"
]

[deploy]
startCommand = "cd backend && python -m gunicorn --bind 0.0.0.0:$PORT --workers 2 --timeout 120 app:app"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
